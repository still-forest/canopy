@reference "tailwindcss";
@reference "../../styles/index.css";

@layer components {
  .btn {
    @apply inline-flex items-center justify-center whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-danger/20 dark:aria-invalid:ring-danger/40 aria-invalid:border-danger cursor-pointer rounded-md shadow-xs;
    @apply gap-2 h-9 px-4 py-2 has-[>svg]:px-3;
    @apply border;

    /* variant=primary, size=md by default */
    & {
      @apply bg-primary text-primary-foreground hover:bg-primary/90 border-primary;

      &:hover,
      &[aria-pressed="true"] {
        @apply bg-primary/90;
      }
    }

    &[data-submitting="true"] {
      .btn-icon {
        @apply animate-spin;
      }
    }

    &.btn--icon {
      @apply size-9 p-2!;
    }

    &.btn--xs {
      @apply gap-1 h-6 px-2 has-[>svg]:px-1.5 text-xs;

      &.btn--icon {
        @apply size-6 p-1!;
      }
    }

    &.btn--sm {
      @apply gap-1.5 h-8 px-3 has-[>svg]:px-2.5 text-sm;

      &.btn--icon {
        @apply size-8 p-2!;
      }
    }

    &.btn--lg {
      @apply gap-2 h-10 px-6 has-[>svg]:px-4 text-lg;

      &.btn--icon {
        @apply size-10 p-2!;
      }
    }

    &.btn--xl {
      @apply gap-2 h-12 px-8 has-[>svg]:px-6 text-xl;

      &.btn--icon {
        @apply size-12 p-3!;
      }
    }

    &.btn--outline {
      @apply border bg-background dark:bg-input/30 dark:border-input;
      &:hover,
      &[aria-pressed="true"] {
        @apply bg-accent text-accent-foreground dark:bg-accent/50;
      }
    }

    &.btn--knockout {
      @apply border border-foreground bg-background text-foreground;
      &:hover,
      &[aria-pressed="true"] {
        @apply bg-foreground text-background;
      }
    }

    &.btn--rounded {
      @apply rounded-full;
    }

    &.btn--fit {
      @apply w-fit;
    }
  }

  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90 border-primary;
    &:hover,
    &[aria-pressed="true"] {
      @apply bg-primary/90;
    }

    &.btn--outline {
      @apply bg-background border-primary/30 text-primary;
      &:hover,
      &[aria-pressed="true"] {
        @apply bg-primary/10 dark:bg-primary/20;
      }
    }

    &.btn--knockout {
      &:hover,
      &[aria-pressed="true"] {
        @apply bg-primary text-background;
      }
    }
  }

  .btn-secondary {
    @apply bg-secondary text-secondary-foreground border-secondary;

    &:hover,
    &[aria-pressed="true"] {
      @apply bg-secondary/80;
    }

    &.btn--outline {
      @apply bg-background border-secondary-foreground/20 text-secondary-foreground/80;

      &:hover,
      &[aria-pressed="true"] {
        @apply bg-secondary/10 dark:bg-secondary/20;
      }
    }
  }

  .btn-muted {
    @apply bg-muted text-muted-foreground focus-visible:ring-muted/20 dark:focus-visible:ring-muted/40 dark:bg-muted/60 border-muted;

    &:hover,
    &[aria-pressed="true"] {
      @apply bg-muted/90 dark:bg-muted/50;
    }

    &.btn--outline {
      @apply bg-background border-muted-foreground/30 text-muted-foreground;

      &:hover,
      &[aria-pressed="true"] {
        @apply bg-muted/10 dark:bg-muted/20;
      }
    }
  }

  .btn-ghost {
    @apply shadow-none border-transparent;

    &:hover,
    &[aria-pressed="true"] {
      @apply bg-accent text-accent-foreground dark:bg-accent/50;
    }
  }

  .btn-info {
    @apply bg-info text-info-foreground focus-visible:ring-info/20 dark:focus-visible:ring-info/40 dark:bg-info/60 border-info;

    &:hover,
    &[aria-pressed="true"] {
      @apply bg-info/90 dark:bg-info/50;
    }

    &.btn--outline {
      @apply bg-background border-info/30 text-info;

      &:hover,
      &[aria-pressed="true"] {
        @apply bg-info/10 dark:bg-info/20;
      }
    }
  }

  .btn-success {
    @apply bg-success text-success-foreground focus-visible:ring-success/20 dark:focus-visible:ring-success/40 dark:bg-success/60 border-success;

    &:hover,
    &[aria-pressed="true"] {
      @apply bg-success/90 dark:bg-success/50;
    }

    &.btn--outline {
      @apply bg-background border-success/30 text-success;

      &:hover,
      &[aria-pressed="true"] {
        @apply bg-success/10 dark:bg-success/20;
      }
    }
  }

  .btn-warning {
    @apply bg-warning text-warning-foreground focus-visible:ring-warning/20 dark:focus-visible:ring-warning/40 dark:bg-warning/60 border-warning;

    &:hover,
    &[aria-pressed="true"] {
      @apply bg-warning/90 dark:bg-warning/50;
    }

    &.btn--outline {
      @apply bg-background border-warning/30 text-warning;
      &:hover,
      &[aria-pressed="true"] {
        @apply bg-warning/10 dark:bg-warning/20;
      }
    }
  }

  .btn-danger {
    @apply bg-danger text-danger-foreground focus-visible:ring-danger/20 dark:focus-visible:ring-danger/40 dark:bg-danger/60 border-danger;

    &:hover,
    &[aria-pressed="true"] {
      @apply bg-danger/90 dark:bg-danger/50;
    }

    &.btn--outline {
      @apply bg-background border-danger/30 text-danger;

      &:hover,
      &[aria-pressed="true"] {
        @apply bg-danger/10 dark:bg-danger/20;
      }
    }
  }

  .btn-link {
    @apply text-primary underline-offset-4 border-transparent shadow-none;

    &:hover,
    &[aria-pressed="true"] {
      @apply hover:underline;
    }
  }

  .btn-input {
    @apply border-input h-9 rounded-md border bg-transparent px-2.5 py-1 text-base shadow-xs transition-[color,box-shadow] focus-visible:ring-[3px] md:text-sm placeholder:text-muted-foreground w-full min-w-0 outline-none;
    @apply justify-between font-normal;

    &:hover,
    &[aria-pressed="true"] {
      @apply bg-accent text-accent-foreground dark:bg-accent/50;
    }
  }
}
